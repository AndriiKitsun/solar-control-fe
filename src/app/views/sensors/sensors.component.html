<div class="sensors">
  <div class="card">
    <div class="mb-4 text-xl font-semibold">{{ createdAtLabel }}</div>
    <p-table
      [value]="(tablesRows$ | async)!"
      [loading]="isLoading()"
      dataKey="id"
      [tableStyle]="{ 'min-height': '16rem' }"
      showGridlines
      rowHover
      scrollable
      stripedRows
    >
      <ng-template #header>
        <tr>
          <th class="table__cell table__header">Name</th>
          <th class="table__cell table__header">U (V)</th>
          <th class="table__cell table__header">I (A)</th>
          <th class="table__cell table__header">P (Kw)</th>
          <th class="table__cell table__header">E (kw/h)</th>
          <th class="table__cell table__header">T1 (Kw/h)</th>
          <th class="table__cell table__header">T2 (Kw/h)</th>
          <th class="table__cell table__header">F (Hz)</th>
          <th class="table__cell table__header">Pf</th>
          <th class="table__cell table__header">10m U (V)</th>
        </tr>
      </ng-template>

      <ng-template #body let-row>
        <tr [ngClass]="{ '!bg-highlight': !row.data }">
          <td class="table__row-title">{{ row.title }}</td>

          <td class="table__cell">{{ row.data?.voltageV ?? 0 | number }}</td>
          <td class="table__cell">{{ row.data?.currentA ?? 0 | number }}</td>
          <td class="table__cell">{{ row.data?.powerKw ?? 0 | number }}</td>
          <td class="table__cell">{{ row.data?.energyKwh ?? 0 | number }}</td>
          <td class="table__cell">
            {{ row.data?.t1EnergyKwh ?? 0 | number }}
          </td>
          <td class="table__cell">
            {{ row.data?.t2EnergyKwh ?? 0 | number }}
          </td>
          <td class="table__cell">{{ row.data?.frequencyHz ?? 0 }}</td>
          <td class="table__cell">
            {{ row.data?.powerFactor ?? 0 | number }}
          </td>
          <td class="table__cell">
            {{ row.data?.avgVoltageV ?? 0 | number }}
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
